# Дипломная работа "Сайт компании медицинской диагностики"

### В работе представлена платформа для компании медицинской диагностики. На ней реализованы справочники предлагаемых диагностических исследований, осуществляемых анализов, а также список докторов, практикующих в клинике.
Любой пользователь может зарегистрироваться на сайте и записаться на ту или иную диагностику, сдачу анализа, или прием к врачу. После получения результатов анализов, диагностики, они прикрепляются в личный кабинет пользователя. Также там можно ознакомиться с назначениями доктора.
На платформе три типа пользователей:
- Менеджеры (осуществляют контроль за контентом сайта):
  - списки анализов/диагностик: полный контроль через стандартный Django admin. Контроль не реализован на самом сайте, так как отображаемая информация довольно статична и добавляется/изменяется крайне редко.
  - списки докторов: полный контроль (CRUD) через реализованные на сайте формы.
  - списки пользователей (пациентов): только просмотр, активация/деактивация, удаление через реализованные на сайте формы.
  - списки акций: полный контроль (CRUD), а также активация/деактивация через реализованные на сайте формы.
- Доктора
  - списки анализов/диагностик: только просмотр
  - списки докторов: только просмотр. Свой профиль - просмотр/редактирование
  - списки пользователей (пациентов): просмотр списка пользователей/пациентов
  - результаты анализов: полный контроль (CRUD) через реализованные на сайте формы.
- Пользователи/пациенты
  - списки анализов/диагностик: только просмотр
  - списки докторов: только просмотр
  - результаты анализов: только просмотр
  - создание/просмотр/редактирование своего профиля

## Требования для работы программы
- Сервер PostgreSQL (локальный или удаленный) с имеющейся на нем, установленной по умолчанию, базой данных postgres
- Отредактированный файл example.env, находящийся в корневой директории проекта, согласно параметрам доступа к
имеющемуся серверу PostgreSQL, а также другим настройкам. Затем этот файл необходимо переименовать в .env
- Установленные зависимости, указанные в файле requirements.txt командой ***pip install -r requirements.txt***
- Необходимо действия:
  - создать на сервере PostgreSQL пустую базу данных с именем, указанном в файле .env (POSTGRES_DB)
  - применить к этой БД миграции из проекта командой python manage.py migrate
  - создать superuser'а командой ***python manage.py create_super_user [email] [first_name] [last_name] [password]***
  - создать в БД группы пользователей managers и doctors и присвоить им кастомные права командами
    - ***python manage.py create_user_group managers set_promo_active_status activate_delete_users*** 
    - ***python manage.py create_user_group doctors modify_medical_results***
  - заполнить БД тестовыми данными из файлов main_data.json и promo_data.json командами
    - ***python manage.py loaddata users_data.json***
    - ***python manage.py loaddata doctors_data.json***
    - ***python manage.py loaddata main_data.json***
    - ***python manage.py loaddata promo_data.json*** 

Для отправки уведомлений по электронной почте необходимо запустить:
- celery -A config worker -l INFO
- redis-server
